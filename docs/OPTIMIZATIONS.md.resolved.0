# 최적화 및 성능 개선 (Optimizations)

애플리케이션의 성능과 사용자 경험(UX)을 향상시키기 위해 적용한 기술적 최적화 사항들입니다.

## 1. 지능형 데이터 프리페칭 (Intelligent Data Prefetching)
채팅 세션 간 이동 시 로딩 시간을 최소화하기 위해 고도화된 프리페칭 전략을 구현했습니다.

- **호버 프리페칭 (Hover Prefetching)**:
    - 사이드바의 세션 목록에 마우스를 올리는 순간(`onMouseEnter`), 해당 세션의 메시지 데이터를 백그라운드에서 미리 요청합니다.
- **중복 요청 방지 (Request Deduplication)**:
    - `Map` 자료구조를 활용한 `pendingPrefetches` 캐시를 도입했습니다.
    - 이미 로딩 중인 세션에 대해 중복된 API 호출이 발생하지 않도록, 진행 중인 `Promise`를 재사용하여 네트워크 리소스를 절약했습니다.
    - 사용자가 빠르게 마우스를 움직일 때 발생할 수 있는 'Race Condition'을 효과적으로 방지했습니다.

## 2. 클라이언트 사이드 캐싱 (Client-Side Caching)
서버 부하를 줄이고 체감이 빠른 UI를 제공하기 위해 메모리 캐싱을 도입했습니다.

- **메시지 캐시 (`messageCache`)**:
    - `useChatStore` 내부에 `Map<string, MessageItem[]>` 형태의 캐시를 두어, 한 번 불러온 세션의 대화 내용은 메모리에 저장합니다.
    - 사용자가 이전에 방문한 세션을 다시 클릭할 경우, 네트워크 요청 없이 캐시된 데이터를 즉시 렌더링하고, 백그라운드에서 조용히 최신 데이터를 동기화합니다.

## 3. 낙관적 UI (Optimistic UI)
네트워크 응답 속도와 관계없이 즉각적인 반응성을 제공합니다.

- **즉시 렌더링**: 메시지 전송 버튼을 누르는 즉시 로컬 상태를 업데이트하여 화면에 말풍선을 표시합니다.
- **백그라운드 처리**: 실제 API 요청은 백그라운드에서 처리되며, 성공 시 상태를 유지하고 실패 시에만 롤백 처리하여 사용자 흐름을 방해하지 않습니다.

## 4. 번들 크기 및 리소스 최적화
- **Vite 기반 빌드**: ES Modules 기반의 Vite를 사용하여 개발 서버 구동 속도와 HMR(Hot Module Replacement) 속도를 극대화했습니다.
- **Tailwind CSS JIT**: 사용되는 클래스만 CSS로 컴파일되는 JIT(Just-In-Time) 모드를 통해 CSS 파일 크기를 최소화했습니다.
